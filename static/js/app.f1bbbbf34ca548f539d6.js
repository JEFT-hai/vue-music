webpackJsonp([1],{"+HSz":function(t,e,s){"use strict";e.a={props:{progress:{type:Number,default:0}},data:function(){return{newProgress:{type:Number,default:0},touch:{}}},methods:{progressClick:function(t){var e=this.$refs.progressBar;this.$refs.progress,this.$refs.progressPoint;this.newProgress=(t.clientX-e.getBoundingClientRect().left)/e.clientWidth,this.changeProgress(this.newProgress),this.emitProgress()},pointTouchstart:function(t){this.touch.init=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},pointTouchmove:function(t){var e=this.$refs.progressBar;this.$refs.progress,this.$refs.progressPoint;if(this.touch.init){var s=t.touches[0].pageX-this.touch.startX,i=Math.min(e.clientWidth,Math.max(0,this.touch.left+s));this.newProgress=i/e.clientWidth,this.changeProgress(this.newProgress),this.emitProgress()}},pointTouchend:function(){this.touch.init=!1},changeProgress:function(t){var e=(this.$refs.progressBar,this.$refs.progress),s=this.$refs.progressPoint;e.style.width=100*t+"%",s.style.left=100*t+"%"},emitProgress:function(){this.$emit("progressChange",this.newProgress)}},mounted:function(){},watch:{progress:function(t){t>=0&&!this.touch.init&&this.changeProgress(t)}}}},Emcd:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"player"},[s("div",{staticClass:"bg"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.currentMusicItem.cover}})]),t._v(" "),s("Header",[s("div",{staticClass:"title"},[t._v(t._s(t.currentMusicItem.title))]),t._v(" "),s("div",{staticClass:"artist"},[t._v(t._s(t.currentMusicItem.artist))])]),t._v(" "),s("div",{staticClass:"middle"},[s("div",{class:this.isPlay?"cover":"cover stop"},[s("img",{attrs:{src:t.currentMusicItem.cover}})])]),t._v(" "),s("Footer",[s("ul",{staticClass:"footer-wrapper"},[s("li",[s("span",{class:"cycle"==this.repeat?"icon repeat-cycle":"once"==this.repeat?"icon repeat-once":"icon repeat-random",on:{click:t.changeRepeat}})]),t._v(" "),s("li",[s("span",{staticClass:"icon prev",on:{click:function(e){t.playPrev()}}})]),t._v(" "),s("li",[s("span",{class:this.isPlay?"icon pause bigger":"icon play bigger",on:{click:function(e){t.play()}}})]),t._v(" "),s("li",[s("span",{staticClass:"icon next",on:{click:t.playNext}})]),t._v(" "),s("li",[s("span",{staticClass:"list",on:{click:t.changeListShow}})])])]),t._v(" "),s("div",{staticClass:"middle-bottom"},[s("div",{staticClass:"time"},[t._v(t._s(t.Atime))]),t._v(" "),s("progress-bar",{attrs:{progress:t.progress},on:{progressChange:t.progressChangeHandler}}),t._v(" "),s("div",{staticClass:"duration"},[t._v(t._s(t.Aduration))])],1),t._v(" "),s("List",{attrs:{listShow:t.listShow},on:{closeList:t.changeListShow,Play:t.PlayTrue}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:t.changeListShow}})],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},IqfQ:function(t,e){},KIFH:function(t,e,s){"use strict";var i=s("Dd8w"),n=s.n(i),r=s("MORR"),a=s("QJ6d"),o=s("m3es"),c=s.n(o);e.a={props:{listShow:""},data:function(){return{musiclist:r.a,newRepeat:""}},computed:n()({},Object(a.b)(["repeat","nowIndex"]),{repeatText:function(){return"cycle"==this.repeat?"循环播放":"once"==this.repeat?"单曲循环":"随机播放"}}),methods:{changeIndex:function(t){this.$store.commit("updateIndex",t),this.$emit("Play")},closeList:function(){this.$emit("closeList")},changeRepeat:function(){this.newRepeat="cycle"==this.repeat?"once":"once"==this.repeat?"random":"cycle",this.$store.commit("updateRepeat",this.newRepeat)},_initScroll:function(){this.musicList?this.musicList.refresh():this.musicList=new c.a(this.$refs.musicList,{click:!0})}},watch:{listShow:function(){var t=this;this.$nextTick(function(){t._initScroll()})}}}},"Lh+o":function(t,e){},M93x:function(t,e,s){"use strict";function i(t){s("Lh+o")}var n=s("xJD8"),r=s("YF63"),a=s("VU/8"),o=i,c=a(n.a,r.a,!1,o,null,null);e.a=c.exports},MORR:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var i=[{id:1,title:"FXXK IT",artist:"bigbang",file:"http://www.170mv.com/kw/other.web.ri01.sycdn.kuwo.cn/resource/n1/96/84/1523189814.mp3",cover:"http://p4.music.126.net/YFz7JOGYtid5MoecLO6Otw==/3412884134806295.jpg?param=130y130"},{id:2,title:"风继续吹",artist:"张国荣",file:"http://oj4t8z2d5.bkt.clouddn.com/%E9%A3%8E%E7%BB%A7%E7%BB%AD%E5%90%B9.mp3",cover:"http://oj4t8z2d5.bkt.clouddn.com/%E9%A3%8E%E7%BB%A7%E7%BB%AD%E5%90%B9.jpg"},{id:3,title:"恋恋风尘",artist:"老狼",file:"http://oj4t8z2d5.bkt.clouddn.com/%E6%81%8B%E6%81%8B%E9%A3%8E%E5%B0%98.mp3",cover:"http://oj4t8z2d5.bkt.clouddn.com/%E6%81%8B%E6%81%8B%E9%A3%8E%E5%B0%98.jpg"},{id:4,title:"我要你",artist:"任素汐",file:"http://oj4t8z2d5.bkt.clouddn.com/%E6%88%91%E8%A6%81%E4%BD%A0.mp3",cover:"http://oj4t8z2d5.bkt.clouddn.com/%E6%88%91%E8%A6%81%E4%BD%A0.jpg"},{id:5,title:"成都",artist:"赵雷",file:"http://oj4t8z2d5.bkt.clouddn.com/%E6%88%90%E9%83%BD.mp3",cover:"http://oj4t8z2d5.bkt.clouddn.com/%E6%88%90%E9%83%BD.jpg"},{id:6,title:"sound of silence",artist:"Simon & Garfunkel",file:"http://oj4t8z2d5.bkt.clouddn.com/sound-of-silence.mp3",cover:"http://oj4t8z2d5.bkt.clouddn.com/sound-of-silence.jpg"}]},MPzD:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("KEcs"),n=s("QJ6d"),r=s("M93x"),a=s("YaEn"),o=s("MPzD"),c=(s.n(o),s("TaEZ")),l=s.n(c);i.a.config.productionTip=!1,l.a.attach(document.body),i.a.use(n.a);var u=new n.a.Store({state:{repeat:"cycle",nowIndex:0},mutations:{updateIndex:function(t,e){t.nowIndex=e},updateRepeat:function(t,e){t.repeat=e}}});new i.a({el:"#app",router:a.a,store:u,template:"<App/>",components:{App:r.a}})},NtvV:function(t,e,s){"use strict";function i(t){s("WgZG")}var n=s("KIFH"),r=s("Wu4J"),a=s("VU/8"),o=i,c=a(n.a,r.a,!1,o,null,null);e.a=c.exports},WgZG:function(t,e){},Wu4J:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"listShow"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.listShow,expression:"this.listShow"}],staticClass:"music-list"},[s("div",{staticClass:"list-repeat",on:{click:t.changeRepeat}},[s("i",{class:"cycle"==this.repeat?"icon small repeat-cycle":"once"==this.repeat?"icon small repeat-once":"icon small repeat-random"}),t._v(" "),s("span",{staticClass:"repeatText"},[t._v(t._s(t.repeatText)+"("+t._s(t.musiclist.length)+")")])]),t._v(" "),s("div",{ref:"musicList",staticClass:"musicList"},[s("ul",{ref:"ul"},t._l(t.musiclist,function(e,i){return s("li",{class:{active:i==t.nowIndex,border:0!=i},on:{click:function(e){t.changeIndex(i)}}},[s("span",{staticClass:"list-m-title"},[t._v(t._s(e.title)+" - ")]),t._v(" "),s("span",{staticClass:"list-m-artist"},[t._v(t._s(e.artist))])])}))]),t._v(" "),s("div",{staticClass:"list-bottom border",on:{click:t.closeList}},[t._v("关闭")])])])},n=[],r={render:i,staticRenderFns:n};e.a=r},"X+a0":function(t,e,s){"use strict";var i=s("Dd8w"),n=s.n(i),r=s("X7kc"),a=s("NtvV"),o=s("MORR"),c=s("QJ6d");e.a={data:function(){return{musiclist:o.a,currentMusicItem:o.a[0],isPlay:!1,progress:0,volume:0,time:0,duration:0,listShow:!1,newIndex:{type:Number},newRepeat:""}},components:{progressBar:r.a,List:a.a},mounted:function(){var t=this;$("#player").jPlayer({supplied:"mp3",wmode:"window"}),$("#player").bind($.jPlayer.event.timeupdate,function(e){t.duration=e.jPlayer.status.duration,t.volume=100*e.jPlayer.options.volume,t.time=e.jPlayer.status.currentTime,t.progress=e.jPlayer.status.currentPercentAbsolute/100}),$("#player").bind($.jPlayer.event.ended,function(e){t.playNext()}),this.$nextTick(function(){t.playMusic(t.currentMusicItem)})},methods:{playMusic:function(t){$("#player").jPlayer("setMedia",{mp3:t.file}).jPlayer("play"),this.currentMusicItem=t},play:function(){this.isPlay?$("#player").jPlayer("pause"):$("#player").jPlayer("play"),this.isPlay=!this.isPlay},PlayTrue:function(){this.isPlay=!0},playNext:function(){var t=this.nowIndex,e=this.musiclist.length;"cycle"==this.repeat?this.newIndex=(t+1)%e:"once"==this.repeat?this.newIndex=t:this.newIndex=Math.floor(Math.random()*e),this.playMusic(this.musiclist[this.newIndex]),this.$store.commit("updateIndex",this.newIndex),this.isPlay=!0},playPrev:function(){var t=this.nowIndex,e=this.musiclist.length;"cycle"==this.repeat?this.newIndex=(t-1+e)%e:"once"==this.repeat?this.newIndex=t:this.newIndex=Math.floor(Math.random()*e),this.playMusic(this.musiclist[this.newIndex]),this.$store.commit("updateIndex",this.newIndex)},progressChangeHandler:function(t){$("#player").jPlayer(this.isPlay?"play":"pause",this.duration*t)},changeRepeat:function(){this.newRepeat="cycle"==this.repeat?"once":"once"==this.repeat?"random":"cycle",this.$store.commit("updateRepeat",this.newRepeat)},changeListShow:function(){this.listShow=!this.listShow}},computed:n()({},Object(c.b)(["repeat","nowIndex"]),{Atime:function(){return(this.time/60).toFixed(2)+"s"},Aduration:function(){return(this.duration/60).toFixed(2)+"s"}}),watch:{nowIndex:function(t){this.playMusic(this.musiclist[t])}}}},X7kc:function(t,e,s){"use strict";function i(t){s("lFGv")}var n=s("+HSz"),r=s("oPJ1"),a=s("VU/8"),o=i,c=a(n.a,r.a,!1,o,null,null);e.a=c.exports},YF63:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},YaEn:function(t,e,s){"use strict";var i=s("KEcs"),n=s("/ocq"),r=s("dbiO");i.a.use(n.a),e.a=new n.a({routes:[{path:"/",component:r.a}]})},dbiO:function(t,e,s){"use strict";function i(t){s("IqfQ")}var n=s("X+a0"),r=s("Emcd"),a=s("VU/8"),o=i,c=a(n.a,r.a,!1,o,null,null);e.a=c.exports},lFGv:function(t,e){},oPJ1:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"progressBar",staticClass:"progressBar",on:{click:function(e){e.stopPropagation(),t.progressClick(e)}}},[s("div",{staticClass:"components-progress"},[s("div",{ref:"progress",staticClass:"progress"}),t._v(" "),s("div",{ref:"progressPoint",staticClass:"point",on:{touchstart:function(e){e.preventDefault(),t.pointTouchstart(e)},touchmove:function(e){e.preventDefault(),t.pointTouchmove(e)},touchend:function(e){e.preventDefault(),t.pointTouchend(e)}}})])])},n=[],r={render:i,staticRenderFns:n};e.a=r},xJD8:function(t,e,s){"use strict";e.a={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.f1bbbbf34ca548f539d6.js.map